function BasicSpray(n){var f,u,h;this.colors=["#b2182b","#d6604d","#f4a582","#92c5de","#4393c3","#2166ac"];this.d0=400;this.d1=350;this.d2=160;var i=n.node().getBoundingClientRect(),s=Math.min(i.width,i.height)-10,e=s/Math.sqrt(2),o=e*this.d1/this.d0,r=e*this.d2/this.d0,t={x:Math.floor(i.width/2),y:Math.floor(i.height/2+s/2)};this.dBase=e/this.d0;f=n.append("svg").attr("width",i.width).attr("height",i.height);this.g0=f.append("g").attr("transform","translate("+t.x+","+t.y+")").style("opacity",0);u=n.append("div").attr("class","tooltip").style("opacity",0);this.arcs=[{innerRadius:0,outerRadius:r,innerD:0,outerD:this.d2,startAngle:-Math.PI/4,endAngle:-Math.PI/12,rotate:-30},{innerRadius:0,outerRadius:r,innerD:0,outerD:this.d2,startAngle:-Math.PI/12,endAngle:Math.PI/12,rotate:0},{innerRadius:0,outerRadius:r,innerD:0,outerD:this.d2,startAngle:Math.PI/12,endAngle:Math.PI/4,rotate:30},{innerRadius:r,outerRadius:o,innerD:this.d2,outerD:this.d1,startAngle:-Math.PI/4,endAngle:-Math.PI/12,rotate:-30},{innerRadius:r,outerRadius:o,innerD:this.d2,outerD:this.d1,startAngle:-Math.PI/12,endAngle:Math.PI/12,rotate:0},{innerRadius:r,outerRadius:o,innerD:this.d2,outerD:this.d1,startAngle:Math.PI/12,endAngle:Math.PI/4,rotate:30}];h=d3.arc();this.g0.selectAll(".arc").data(this.arcs).enter().append("path").attr("class","arc").attr("d",h).on("mouseover",function(n){u.html(Math.round(n.count*100/data.length)+"% ("+n.count+" of "+n.total+")").style("opacity",1)}).on("mousemove",function(){var n=d3.mouse(this);n[0]<=t.x*.3?u.style("right",null).style("left",n[0]+t.x+8+"px").style("top",n[1]+t.y-15+"px"):u.style("left",null).style("right",t.x-n[0]+4+"px").style("top",n[1]+t.y-15+"px")}).on("mouseout",function(){u.style("opacity",0)});this.g0.selectAll(".arc-text").data(this.arcs).enter().append("text").attr("class","arc-text").attr("x",0).attr("y",function(n){return-n.outerRadius*.75}).attr("transform",function(n){return"rotate("+n.rotate+")"});this.g2=f.append("g").attr("transform","translate("+t.x+","+t.y+")").style("opacity",0).style("pointer-events","none");this.g2.append("rect").attr("class","dots-panel").attr("x",-t.x).attr("y",-t.y).attr("width",i.width).attr("height",i.height);this.g1=f.append("g").attr("transform","translate("+Math.floor(i.width/2)+","+Math.floor(i.height/2+20)+")").style("opacity",0);this.g1.append("text").style("text-anchor","middle");this.update=function(n){var t=this,r,i;if(t.g0.style("opacity",0),t.g1.style("opacity",0),t.g2.selectAll(".dot").remove(),n.length===0){t.g1.select("text").text("There is no available data.");t.g1.transition().style("opacity",1);return}for(t.arcs.forEach(function(t){t.count=0;t.total=n.length}),n.forEach(function(n){n.distance<=t.d2?n.direction>=-45&&n.direction<-15?t.arcs[0].count++:n.direction>=-15&&n.direction<=15?t.arcs[1].count++:n.direction>15&&n.direction<=45&&t.arcs[2].count++:n.distance<=t.d1&&(n.direction>=-45&&n.direction<-15?t.arcs[3].count++:n.direction>=-15&&n.direction<=15?t.arcs[4].count++:n.direction>15&&n.direction<=45&&t.arcs[5].count++);var i=n.direction*Math.PI/180;t.g2.append("circle").attr("class","dot").attr("r",3).attr("cx",Math.sin(i)*n.distance*t.dBase).attr("cy",-Math.cos(i)*n.distance*t.dBase).style("opacity",0)}),r=[],i=0;i<t.arcs.length;i++)r.push({index:i,count:t.arcs[i].count});for(r.sort(function(n,t){return n.count<t.count?1:n.count>t.count?-1:0}),i=0;i<r.length;i++)t.arcs[r[i].index].color=t.colors[i];t.g0.selectAll(".arc").data(t.arcs).style("fill",function(n){return n.color});t.g0.selectAll(".arc-text").data(t.arcs).text(function(n){return Math.round(n.count*100/n.total)+"%"});t.g0.transition().duration(500).style("opacity",1);t.g2.selectAll(".dot").transition().duration(500).style("opacity",1)};this.toggleDots=function(){var n=this;n.g2.style("opacity")==0?n.g2.transition().style("opacity",1).style("pointer-events","auto"):n.g2.transition().style("opacity",0).style("pointer-events","none")}}function RpmVelo(n){var u=n.node().getBoundingClientRect(),t={left:60,top:20,right:90,bottom:50},i={width:u.width-t.left-t.right,height:u.height-t.top-t.bottom},r=n.append("svg").attr("width",u.width).attr("height",u.height),f;this.yScale=d3.scaleLinear().range([i.height,0]);this.yAxis=d3.axisLeft(this.yScale).tickSizeInner(-i.width).tickSizeOuter(0).tickPadding(8).ticks(5);this.xScale=d3.scaleLinear().range([0,i.width]);this.xAxis=d3.axisBottom(this.xScale);this.y=r.append("g").attr("class","y axis").attr("transform","translate("+t.left+","+t.top+")").style("opacity",0);this.y.append("text").attr("class","label").attr("transform","rotate(-90)").attr("x",-i.height/2).attr("y",-42).style("text-anchor","middle").text("RPM");this.x=r.append("g").attr("class","x axis").attr("transform","translate("+t.left+","+(t.top+i.height)+")").style("opacity",0);this.x.append("text").attr("class","label").attr("x",i.width/2).attr("y",32).text("MPH");this.g0=r.append("g").attr("transform","translate("+t.left+","+t.top+")").style("opacity",0);f=n.append("div").attr("class","tooltip").style("opacity",0);this.firstLoad=!0;this.color=d3.scaleOrdinal(d3.schemeCategory10);this.g1=r.append("g").attr("transform","translate("+(t.left+i.width/2)+","+(t.top+i.height/2)+")").style("opacity",0);this.g1.append("text").style("text-anchor","middle");this.g2=r.append("g").attr("transform","translate("+(t.left+i.width+20)+","+(t.top+20)+")").style("opacity",0);this.update=function(n){var t=this,i,r;if(t.firstLoad||(t.g0.style("opacity",0),t.g1.style("opacity",0),t.g2.style("opacity",0),t.g0.html(""),t.g2.html("")),n.length===0){t.g1.select("text").text("There is no available data.");t.g1.transition().style("opacity",1);return}i=d3.extent(n,function(n){return n.velocity});r=d3.extent(n,function(n){return n.spin_rate});t.xScale.domain(i).nice();t.yScale.domain(r).nice();t.firstLoad?(t.x.call(t.xAxis).transition().style("opacity",1),t.y.call(t.yAxis).transition().style("opacity",1)):(t.x.transition().call(t.xAxis),t.y.transition().call(t.yAxis));d3.map(n,function(n){return n.pitch_type}).keys().forEach(function(i,r){var u=n.filter(function(n){return n.pitch_type===i});t.g0.append("g").attr("data-type",i).selectAll(".dot").data(u).enter().append("circle").attr("class","dot").attr("r",3).style("fill",function(n){return t.color(n.pitch_type)}).attr("cx",function(n){return t.xScale(n.velocity)}).attr("cy",function(n){return t.yScale(n.spin_rate)}).on("mouseover",function(n){f.html(n.pitch_type+"<br/>v: "+Math.round(n.velocity*100)/100+" mph<br/>s: "+Math.round(n.spin_rate*100)/100+" rpm").style("opacity",1)}).on("mousemove",function(){var n=d3.mouse(this);f.style("left",n[0]+30+"px").style("top",n[1]-32+"px")}).on("mouseout",function(){f.style("opacity",0)});t.g2.append("circle").attr("class","legend-dot").attr("r",4).attr("cx",0).attr("cy",r*18).style("fill",t.color(i));t.g2.append("text").attr("class","legend-text").attr("x",8).attr("y",r*18+4).text(i).attr("state","1").on("click",function(){var n=d3.select(this).attr("state");t.g0.select("g[data-type="+d3.select(this).text()+"]").transition().style("opacity",n==="1"?0:1);d3.select(this).attr("state",n==="1"?"0":"1").style("opacity",n==="1"?.5:1)})});t.g0.transition().duration(500).style("opacity",1);t.g2.transition().duration(500).style("opacity",1);t.firstLoad=!1}}
/*
//# sourceMappingURL=charts.min.js.map
*/